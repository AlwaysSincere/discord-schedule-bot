# Discord Schedule Bot - í‚¤ì›Œë“œ ë¶„ì„ ì „ìš© ì›Œí¬í”Œë¡œ
name: Keyword Analysis (No AI)

# ì–¸ì œ ì‹¤í–‰í• ì§€ ì„¤ì •
on:
  # ìˆ˜ë™ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ì„¤ì •
  workflow_dispatch:

# ì‹¤í–‰í•  ì‘ì—…ë“¤
jobs:
  keyword-analysis:
    runs-on: ubuntu-latest
    
    steps:
    # 1ë‹¨ê³„: ì½”ë“œ ë‹¤ìš´ë¡œë“œ
    - name: ğŸ“¥ ì½”ë“œ ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v4
    
    # 2ë‹¨ê³„: Python ì„¤ì¹˜
    - name: ğŸ Python ì„¤ì •
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'
    
    # 3ë‹¨ê³„: í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ìµœì†Œí•œë§Œ)
    - name: ğŸ“¦ íŒ¨í‚¤ì§€ ì„¤ì¹˜
      run: |
        python -m pip install --upgrade pip
        pip install discord.py==2.3.2 pytz==2023.3
    
    # 4ë‹¨ê³„: í‚¤ì›Œë“œ ë¶„ì„ ì‹¤í–‰ (OpenAI API ì—†ì´)
    - name: ğŸ”¬ Discord í‚¤ì›Œë“œ ë¶„ì„ ì‹¤í–‰
      env:
        DISCORD_TOKEN: ${{ secrets.DISCORD_TOKEN }}
      run: |
        echo "ğŸ”¬ í‚¤ì›Œë“œ ë¶„ì„ ì‹œì‘ (OpenAI API ì‚¬ìš© ì•ˆí•¨, ë¹„ìš© 0ì›)"
        echo "ğŸ“… ë¶„ì„ ê¸°ê°„: 2025ë…„ 6ì›” 1ì¼ ~ 7ì›” 31ì¼"
        echo "ğŸ¯ ëª©ì : ì‹¤ì œ ì¼ì •ê³¼ ì—°ê´€ëœ í‚¤ì›Œë“œ íŒ¨í„´ ì¶”ì¶œ"
        cd src
        python keyword_analysis_main.py
